{
  "comment": "Claude Code Session Hooks for Infrastructure Governance",
  "AfterToolUse": [
    {
      "tool": "Write",
      "filePattern": "\\.tf$",
      "command": "./scripts/validators/validate-terraform-file.sh {{filePath}}",
      "description": "Validate Terraform files after creation"
    },
    {
      "tool": "Edit",
      "filePattern": "\\.tf$",
      "command": "./scripts/validators/validate-terraform-file.sh {{filePath}}",
      "description": "Validate Terraform files after editing"
    },
    {
      "tool": "Write",
      "filePattern": "terraform/.*/README\\.md$",
      "command": "./scripts/check-terraform-docs.sh $(dirname {{filePath}})",
      "description": "Validate Terraform documentation after README creation"
    },
    {
      "tool": "Edit",
      "filePattern": "terraform/.*/README\\.md$",
      "command": "./scripts/check-terraform-docs.sh $(dirname {{filePath}})",
      "description": "Validate Terraform documentation after README editing"
    }
  ],
  "SessionStart": [
    {
      "command": "echo '\nüîç Infrastructure Governance Active:\n  ‚úÖ Required tags: merge(local.required_tags)\n  ‚úÖ Encryption: KMS only (no AES256)\n  ‚úÖ Naming: kebab-case (resources), snake_case (variables)\n  ‚úÖ Secrets: No hardcoding\n  üìñ Rules: .claude/INFRASTRUCTURE_RULES.md\n'",
      "description": "Display governance reminder at session start"
    }
  ],
  "UserPromptSubmit": [
    {
      "triggerPattern": "terraform|resource|variable|locals",
      "command": "echo 'üí° Remember: Use merge(local.required_tags) for all resource tags'",
      "description": "Remind about tags when working with Terraform"
    }
  ]
}
