{
  "comment": "Claude Code Session Hooks for Infrastructure Governance",
  "AfterToolUse": [
    {
      "tool": "Write",
      "filePattern": "\\.tf$",
      "command": "./scripts/validators/validate-terraform-file.sh {{filePath}}",
      "description": "Validate Terraform files after creation"
    },
    {
      "tool": "Edit",
      "filePattern": "\\.tf$",
      "command": "./scripts/validators/validate-terraform-file.sh {{filePath}}",
      "description": "Validate Terraform files after editing"
    }
  ],
  "SessionStart": [
    {
      "command": "echo '\nğŸ” Infrastructure Governance Active:\n  âœ… Required tags: merge(local.required_tags)\n  âœ… Encryption: KMS only (no AES256)\n  âœ… Naming: kebab-case (resources), snake_case (variables)\n  âœ… Secrets: No hardcoding\n  ğŸ“– Rules: .claude/INFRASTRUCTURE_RULES.md\n'",
      "description": "Display governance reminder at session start"
    }
  ],
  "UserPromptSubmit": [
    {
      "triggerPattern": "terraform|resource|variable|locals",
      "command": "echo 'ğŸ’¡ Remember: Use merge(local.required_tags) for all resource tags'",
      "description": "Remind about tags when working with Terraform"
    }
  ]
}
