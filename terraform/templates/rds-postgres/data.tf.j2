# VPC and Subnet data
data "aws_vpc" "main" {
  tags = {
    Name = "main-vpc"
  }
}

data "aws_subnets" "database" {
  filter {
    name   = "vpc-id"
    values = [data.aws_vpc.main.id]
  }

  tags = {
    Tier = "database"
  }
}

# KMS key for encryption
data "aws_kms_key" "rds" {
  key_id = "alias/rds-encryption"
}

# Security group for database access
data "aws_security_group" "database_access" {
  vpc_id = data.aws_vpc.main.id

  tags = {
    Name = "database-access-sg"
  }
}
