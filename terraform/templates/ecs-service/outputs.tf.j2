# ============================================================================
# {{ service_name | upper }} - Outputs
# ============================================================================

# ECS Service Outputs
output "ecs_service_id" {
  description = "ECS service ID"
  value       = module.{{ service_name | replace('-', '_') }}_service.service_id
}

output "ecs_service_name" {
  description = "ECS service name"
  value       = module.{{ service_name | replace('-', '_') }}_service.service_name
}

output "security_group_id" {
  description = "Security group ID for ECS tasks"
  value       = aws_security_group.{{ service_name | replace('-', '_') }}.id
}

output "cloudwatch_log_group_name" {
  description = "CloudWatch log group name"
  value       = module.{{ service_name | replace('-', '_') }}_logs.name
}

output "cloudwatch_log_group_arn" {
  description = "CloudWatch log group ARN"
  value       = module.{{ service_name | replace('-', '_') }}_logs.arn
}

{% if include_alb %}
# ALB Outputs
output "alb_dns_name" {
  description = "ALB DNS name"
  value       = module.{{ service_name | replace('-', '_') }}_alb.dns_name
}

output "alb_arn" {
  description = "ALB ARN"
  value       = module.{{ service_name | replace('-', '_') }}_alb.arn
}

output "target_group_arn" {
  description = "Target group ARN"
  value       = module.{{ service_name | replace('-', '_') }}_alb.target_group_arn
}

output "alb_security_group_id" {
  description = "ALB security group ID"
  value       = aws_security_group.{{ service_name | replace('-', '_') }}_alb.id
}
{% endif %}

{% if cache == "dedicated-redis" or cache == "dedicated-memcached" %}
# ElastiCache Outputs
output "elasticache_endpoint" {
  description = "ElastiCache endpoint"
  value       = module.{{ service_name | replace('-', '_') }}_cache.primary_endpoint_address
}

output "elasticache_port" {
  description = "ElastiCache port"
  value       = module.{{ service_name | replace('-', '_') }}_cache.port
}
{% endif %}

{% if database == "dedicated-rds" %}
# RDS Outputs
output "rds_endpoint" {
  description = "RDS endpoint"
  value       = module.{{ service_name | replace('-', '_') }}_rds.endpoint
}

output "rds_address" {
  description = "RDS address"
  value       = module.{{ service_name | replace('-', '_') }}_rds.address
}

output "rds_port" {
  description = "RDS port"
  value       = module.{{ service_name | replace('-', '_') }}_rds.port
}
{% endif %}
