# π—οΈ Infrastructure Management

μ΅°μ§ μ „μ²΄μ κ³µν†µ μΈν”„λΌλ¥Ό μ¤‘μ•™μ—μ„ κ΄€λ¦¬ν•λ” ν”„λ΅μ νΈμ…λ‹λ‹¤. Atlantis κΈ°λ° GitOpsλ΅ λ¨λ“  ν”„λ΅μ νΈμ μΈν”„λΌλ¥Ό ν‘μ¤€ν™”ν•κ³  ν¨μ¨μ μΌλ΅ μ΄μν•©λ‹λ‹¤.

## π“ ν”„λ΅μ νΈ κ°μ”

**Jira Project Key**: `IN`

**GitHub Repository**: [https://github.com/ryu-qqq/infrastructure](https://github.com/ryu-qqq/infrastructure)

**λ‹΄λ‹Ήμ**: μ‹μ¤ν… μ•„ν‚¤ν…νΈ

**μ‹μ‘μΌ**: 2025λ…„ 10μ›”

**μƒνƒ**: κΈ°ν μ¤‘

---

## π― μ™ ν•„μ”ν•κ°€?

### ν„μ¬ λ¬Έμ μ 

ν„μ¬ κ° ν”„λ΅μ νΈ(ν¬λ΅¤λ¬, μΈμ¦, νμΌ κ΄€λ¦¬ λ“±)κ°€ λ…λ¦½μ μΌλ΅ μΈν”„λΌλ¥Ό κ΄€λ¦¬ν•λ©΄μ„ λ‹¤μκ³Ό κ°™μ€ λ¬Έμ κ°€ λ°μƒν•κ³  μμµλ‹λ‹¤.

**μ¤‘λ³µλ μΈν”„λΌ μ½”λ“**

κ° ν”„λ΅μ νΈλ§λ‹¤ λΉ„μ·ν• Terraform μ½”λ“λ¥Ό λ°λ³µ μ‘μ„±ν•κ³  μμµλ‹λ‹¤. VPC μ„¤μ •, ECS ν΄λ¬μ¤ν„° κµ¬μ„±, RDS μ„¤μ • λ“±μ΄ ν”„λ΅μ νΈλ³„λ΅ μ¤‘λ³µλ©λ‹λ‹¤.

**μΌκ΄€μ„± λ¶€μ΅±**

VPC CIDR, λ³΄μ• κ·Έλ£Ή κ·μΉ™, IAM μ •μ±… λ“±μ΄ ν”„λ΅μ νΈλ§λ‹¤ λ‹¤λ¥΄κ² κµ¬μ„±λμ–΄ μμµλ‹λ‹¤. μ΄λ” λ³΄μ• κ°μ‚¬λ¥Ό μ–΄λ µκ² λ§λ“¤κ³ , ν”„λ΅μ νΈ κ°„ μ—°λ™ μ‹ μμƒμΉ λ»ν• λ¬Έμ λ¥Ό μ•ΌκΈ°ν•©λ‹λ‹¤.

**κ΄€λ¦¬ ν¬μΈνΈ μ¦κ°€**

κ° ν”„λ΅μ νΈλ§λ‹¤ λ³„λ„μ Terraform λ°°ν¬ νμ΄ν”„λΌμΈμ„ κµ¬μ¶•ν•κ³  μ μ§€λ³΄μν•΄μ•Ό ν•©λ‹λ‹¤. ν”„λ΅μ νΈκ°€ λμ–΄λ‚ μλ΅ κ΄€λ¦¬ λ¶€λ‹΄μ΄ κΈ°ν•κΈ‰μμ μΌλ΅ μ¦κ°€ν•©λ‹λ‹¤.

**λ³΄μ• λ° κ·μ • μ¤€μ μ–΄λ ¤μ›€**

λ³΄μ• μ •μ±…, κ°μ‚¬ λ΅κ·Έ, νƒκΉ… ν‘μ¤€μ΄ μΌκ΄€λμ§€ μ•μ•„ κ·μ • μ¤€μλ¥Ό μ¦λ…ν•κΈ° μ–΄λ µμµλ‹λ‹¤.

**λ“λ¦¬ν”„νΈ κ°μ§€ λ¶κ°€**

μλ™μΌλ΅ λ³€κ²½λ μΈν”„λΌμ™€ μ½”λ“ κ°„μ λ¶μΌμΉ(drift)λ¥Ό κ°μ§€ν•κ³  ν•΄κ²°ν•κΈ° μ–΄λ µμµλ‹λ‹¤.

### Infrastructure ν”„λ΅μ νΈμ μ—­ν• 

**μ¤‘μ•™ μ§‘μ¤‘μ‹ μΈν”„λΌ κ΄€λ¦¬**

Atlantisλ¥Ό ν†µν• GitOps κΈ°λ°μΌλ΅ λ¨λ“  ν”„λ΅μ νΈμ μΈν”„λΌλ¥Ό ν•λ‚μ μ›ν¬ν”λ΅μ°λ΅ κ΄€λ¦¬ν•©λ‹λ‹¤.

**κ³µμ  λ¦¬μ†μ¤ κ΄€λ¦¬**

VPC, Transit Gateway, NAT Gateway, μ¤‘μ•™ λ¨λ‹ν„°λ§, λ΅κΉ…, λ³΄μ• μ„λΉ„μ¤ λ“± μ΅°μ§ κ³µν†µ μΈν”„λΌλ¥Ό μ κ³µν•©λ‹λ‹¤.

**ν‘μ¤€ν™” λ° μ¬μ‚¬μ©**

κ²€μ¦λ Terraform λ¨λ“κ³Ό ν‘μ¤€ μ •μ±…μ„ μ κ³µν•μ—¬ λ¨λ“  ν”„λ΅μ νΈκ°€ λ™μΌν• ν¨ν„΄κ³Ό λ³΄μ• μ •μ±…μ„ μ μ©ν•©λ‹λ‹¤.

**ν¨μ¨μ μΈ λ³€κ²½ κ΄€λ¦¬**

ν• κ³³μ—μ„ λ¨λ“  ν”„λ΅μ νΈμ μΈν”„λΌ λ³€κ²½μ„ μ¶”μ ν•κ³ , PR κΈ°λ°μΌλ΅ λ¦¬λ·° λ° μΉμΈν•  μ μμµλ‹λ‹¤.

**λΉ„μ© μµμ ν™” λ° κ±°λ²„λ„μ¤**

κ³µμ  λ¦¬μ†μ¤ ν™μ©, ν•„μ νƒκΉ…, Infracostλ¥Ό ν†µν• λΉ„μ© μ¶”μ μΌλ΅ μΈν”„λΌ λΉ„μ©μ„ μ κ°ν•κ³  ν¬λ…ν•κ² κ΄€λ¦¬ν•©λ‹λ‹¤.

**λ³΄μ• λ° κ·μ • μ¤€μ**

μ¤‘μ•™ μ§‘μ¤‘μ‹ λ³΄μ• μ •μ±…, CloudTrail/Config/Security Hubλ¥Ό ν†µν• κ°μ‚¬, tfsec/checkov μλ™ κ²€μ‚¬λ΅ λ³΄μ•μ„ κ°•ν™”ν•©λ‹λ‹¤.

---

## π›οΈ μ•„ν‚¤ν…μ² μ›μΉ™

### GitOps μ›μΉ™

λ¨λ“  μΈν”„λΌ λ³€κ²½μ€ Gitμ„ ν†µν•΄μ„λ§ μ΄λ£¨μ–΄μ§‘λ‹λ‹¤. μλ™ λ³€κ²½μ€ κΈμ§€λλ©°, λ¨λ“  λ³€κ²½μ€ PRκ³Ό μ½”λ“ λ¦¬λ·°λ¥Ό κ±°μ³μ•Ό ν•©λ‹λ‹¤.

### ν‘μ¤€ν™” μ›μΉ™

λ„¤μ΄λ°, νƒκΉ…, λ¨λ“, λ³΄μ• μ •μ±… λ“± λ¨λ“  μΈν”„λΌ μ”μ†λ” μ΅°μ§ ν‘μ¤€μ„ λ”°λΌμ•Ό ν•©λ‹λ‹¤.

### κ°€μ‹μ„± μ›μΉ™

SLO/SLI, λ€μ‹λ³΄λ“, μ•λ, λ°λ¶μ„ ν†µν•΄ λ¨λ“  μΈν”„λΌμ μƒνƒμ™€ μ„±λ¥μ„ ν¬λ…ν•κ² κ΄€λ¦¬ν•©λ‹λ‹¤.

### μµμ† κ¶ν• μ›μΉ™

λ¨λ“  λ¦¬μ†μ¤μ™€ μ„λΉ„μ¤λ” ν•„μ”ν• μµμ†ν•μ κ¶ν•λ§ λ¶€μ—¬λ°›μµλ‹λ‹¤.

### κ³„μΈµ λ¶„λ¦¬ μ›μΉ™

κ³µμ  μΈν”„λΌ(Shared), μ ν’λ³„ μΈν”„λΌ(Stacks), κ³µμ© λ¨λ“(Modules)μ„ λ…ν™•ν λ¶„λ¦¬ν•©λ‹λ‹¤.

---

## π—ΊοΈ μ „μ²΄ λ΅λ“λ§µ

### Phase 1: μ¤‘μ•™ μΈν”„λΌ λ° κ±°λ²„λ„μ¤ κµ¬μ¶• (2-3μ£Ό)

**λ©ν‘**: Atlantis κΈ°λ° GitOps ν™κ²½μ„ κµ¬μ¶•ν•κ³  μ΅°μ§ ν‘μ¤€μ„ μ •λ¦½ν•©λ‹λ‹¤.

**μ£Όμ” μ‘μ—…**

- AWS κ³„μ • λ¶„λ¦¬ μ „λµ μλ¦½ (shared/dev/stg/prod)
- Atlantis μ„λ²„ ECS λ°°ν¬ λ° λ³΄μ• κ°•ν™”
- GitHub App μ—°λ™ λ° λ©€ν‹° λ ν¬μ§€ν† λ¦¬ μ„¤μ •
- κ±°λ²„λ„μ¤ μ •μ±… μλ¦½ (μΉμΈ κ·μΉ™, κ¶ν•, PR κ²μ΄νΈ)
- κ³µμ  VPC λ° λ„¤νΈμ›ν¬ κµ¬μ„± (Transit Gateway κΈ°λ°)
- KMS ν‚¤ μ „λµ (λ°μ΄ν„° ν΄λμ¤λ³„ λ¶„λ¦¬)
- Terraform State λ°±μ—”λ“ ν‘μ¤€ν™” (S3 + DynamoDB)
- ν•„μ νƒκ·Έ μ¤ν‚¤λ§ λ° λ„¤μ΄λ° κ·μ•½ μ •μ
- λ³΄μ• λ„κµ¬ ν†µν•© (tfsec, checkov, Infracost)

**μμƒ κΈ°κ°„**: 2-3μ£Ό

### Phase 2: μ¤‘μ•™ κ΄€μΈ΅μ„± λ° λ³΄μ• μ²΄κ³„ κµ¬μ¶• (1-2μ£Ό)

**λ©ν‘**: λ΅κΉ…, λ¨λ‹ν„°λ§, λ³΄μ• κ°μ‹λ¥Ό μ¤‘μ•™μ—μ„ ν†µν•© κ΄€λ¦¬ν•©λ‹λ‹¤.

**μ£Όμ” μ‘μ—…**

- CloudWatch μ¤‘μ•™ λ΅κΉ… μ‹μ¤ν… (Firehose β†’ S3 μ•„μΉ΄μ΄λΈ)
- ν‘μ¤€ μ•λ μ„ΈνΈ κµ¬μ¶• (μ• ν”λ¦¬μΌ€μ΄μ…/μΈν”„λΌ)
- OpenTelemetry κΈ°λ° μ¶”μ  μ‹μ¤ν…
- λ°λ¶ ν…ν”λ¦Ώ μ‘μ„±
- CloudTrail μ¤‘μ•™ μμ§‘
- AWS Config κ·μΉ™ ν™μ„±ν™”
- Security Hub ν†µν•©
- Secrets Manager μ¤‘μ•™ κ΄€λ¦¬ μ²΄κ³„
- DR μ „λµ μλ¦½ λ° λ°±μ—… μ •μ±…

**μμƒ κΈ°κ°„**: 1-2μ£Ό

### Phase 3: κ³µν†µ λ¨λ“ λ° κ³¨λ“  ν¨μ¤ κµ¬μ¶• (1-2μ£Ό)

**λ©ν‘**: μ¬μ‚¬μ© κ°€λ¥ν• λ¨λ“κ³Ό μ„λΉ„μ¤ μ¨λ³΄λ”© μλ™ν™”λ¥Ό κµ¬μ¶•ν•©λ‹λ‹¤.

**μ£Όμ” μ‘μ—…**

- ECS Service λ¨λ“ (SemVer λ²„μ „ κ΄€λ¦¬)
- RDS λ¨λ“ (Multi-AZ, Proxy, λ°±μ—… μλ™ν™”)
- ALB/NLB λ¨λ“
- S3 Bucket λ¨λ“ (μ•”νΈν™”, λ²„μ €λ‹, μλ…μ£ΌκΈ°)
- IAM μ—­ν•  λ¨λ“
- λ³΄μ• κ·Έλ£Ή λ¨λ“
- μ„λΉ„μ¤ μ¨λ³΄λ”© μ¤μΊν΄λ“ μ¤ν¬λ¦½νΈ
- λ¨λ“ λ¬Έμ„ν™” λ° μμ  μ‘μ„±
- μƒλ“λ°•μ¤ ν™κ²½ κµ¬μ¶•

**μμƒ κΈ°κ°„**: 1-2μ£Ό

[κ±°λ²„λ„μ¤ λ° μ΄μ κΈ°μ¤€](%F0%9F%8F%97%EF%B8%8F%20Infrastructure%20Management%20288b00296f3b81469005d8ee0dbd7773/%EA%B1%B0%EB%B2%84%EB%84%8C%EC%8A%A4%20%EB%B0%8F%20%EC%9A%B4%EC%98%81%20%EA%B8%B0%EC%A4%80%20288b00296f3b81f7986dc2bfa40c2483.md)

[PR κ²μ΄νΈ μ²΄ν¬λ¦¬μ¤νΈ λ° μ›ν¬ν”λ΅μ°](%F0%9F%8F%97%EF%B8%8F%20Infrastructure%20Management%20288b00296f3b81469005d8ee0dbd7773/PR%20%EA%B2%8C%EC%9D%B4%ED%8A%B8%20%EC%B2%B4%ED%81%AC%EB%A6%AC%EC%8A%A4%ED%8A%B8%20%EB%B0%8F%20%EC%9B%8C%ED%81%AC%ED%94%8C%EB%A1%9C%EC%9A%B0%20288b00296f3b8136b8ddc518dd5e369b.md)

### Phase 4: κΈ°μ΅΄ ν”„λ΅μ νΈ λ§μ΄κ·Έλ μ΄μ… (ν”„λ΅μ νΈλ‹Ή 1μ£Ό)

**λ©ν‘**: ν¬λ΅¤λ¬, AuthHub, FileFlow ν”„λ΅μ νΈμ μΈν”„λΌλ¥Ό μ¤‘μ•™ κ΄€λ¦¬λ΅ μ „ν™ν•©λ‹λ‹¤.

**μ£Όμ” μ‘μ—…**

- κ° ν”„λ΅μ νΈμ κΈ°μ΅΄ Terraform μ½”λ“ λ¶„μ„
- κ³µμ  λ¨λ“μ„ ν™μ©ν• λ¦¬ν©ν† λ§
- Atlantis μ›ν¬ν”λ΅μ° μ μ©
- ν™κ²½λ³„ μ„¤μ • λ§μ΄κ·Έλ μ΄μ… (dev, staging, prod)
- κΈ°μ΅΄ λ¦¬μ†μ¤ import λ° κ²€μ¦
- SLO/μ•λ/λ°λ¶ μ‘μ„±

**μμƒ κΈ°κ°„**: ν”„λ΅μ νΈλ‹Ή 1μ£Ό

### Phase 5: κ³ κΈ‰ κΈ°λ¥ λ° μ§€μ†μ  κ°μ„ 

**λ©ν‘**: μΈν”„λΌ μ΄μμ ν¨μ¨μ„±κ³Ό μ•μ •μ„±μ„ λ”μ± ν–¥μƒμ‹ν‚µλ‹λ‹¤.

**μ£Όμ” μ‘μ—…**

- λ©€ν‹° λ¦¬μ „ μ§€μ›
- λΉ„μ© μµμ ν™” λ€μ‹λ³΄λ“
- μλ™ν™”λ DR λ¦¬ν—μ„¤
- μ„λΉ„μ¤ ν•λ„/μΏΌν„° λ¨λ‹ν„°λ§

**μμƒ κΈ°κ°„**: μ§€μ†μ  κ°μ„ 

---

## π― κΈ°λ€ ν¨κ³Ό

### κ°λ° μ†λ„ ν–¥μƒ

κ²€μ¦λ λ¨λ“κ³Ό κ³¨λ“  ν¨μ¤λ¥Ό μ‚¬μ©ν•μ—¬ μΈν”„λΌ κµ¬μ¶• μ‹κ°„μ„ 80% λ‹¨μ¶•ν•  μ μμµλ‹λ‹¤.

### μΌκ΄€μ„± μ μ§€

λ¨λ“  ν”„λ΅μ νΈκ°€ λ™μΌν• λ„¤νΈμ›ν¬ κµ¬μ΅°, λ³΄μ• μ •μ±…, λ¨λ‹ν„°λ§ μ²΄κ³„λ¥Ό μ μ©λ°›μµλ‹λ‹¤.

### λΉ„μ© μµμ ν™”

- κ³µμ  λ¦¬μ†μ¤ ν™μ©
- ν•„μ νƒκΉ…μ„ ν†µν• λΉ„μ© μ¶”μ 
- **μμƒ μ κ°: μ›” 30% μ κ°**

### λ³΄μ• κ°•ν™” λ° κ·μ • μ¤€μ

- μ¤‘μ•™ μ§‘μ¤‘μ‹ λ³΄μ• μ •μ±…
- μλ™ν™”λ μ·¨μ•½μ  κ²€μ‚¬
- κ°μ‚¬ λ΅κ·Έ μλ™ μμ§‘

---

## π”— κ΄€λ ¨ ν”„λ΅μ νΈ

**ν„μ¬ κ΄€λ¦¬ λ€μƒ**

- π•·οΈ λ¨Έμ¤νΈμ‡ ν¬λ΅¤λ¬ MVP
- π” AuthHub
- π“¦ FileFlow

---

## π“ μ§„ν–‰ μƒν™©

**ν„μ¬ μƒνƒ**: μ΄μ κΈ°μ¤€μ„ μλ¦½ μ™„λ£

**λ‹¤μ λ‹¨κ³„**

- Jira Phase 1 μ—ν”½ μƒμ„±
- AWS κ³„μ • κµ¬μ΅° μ„¤κ³„
- Infrastructure λ¦¬ν¬μ§€ν† λ¦¬ μƒμ„±

---

## π“ μ°Έκ³  μλ£

- Atlantis: [https://www.runatlantis.io/docs/](https://www.runatlantis.io/docs/)
- Terraform Best Practices: [https://www.terraform-best-practices.com/](https://www.terraform-best-practices.com/)
- AWS Well-Architected: [https://aws.amazon.com/architecture/well-architected/](https://aws.amazon.com/architecture/well-architected/)
- GitHub: [https://github.com/ryu-qqq](https://github.com/ryu-qqq)